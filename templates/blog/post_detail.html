{%extends "blog/base.html"%} {%block title%}Post Details{%endblock%} 
<!-- Set up your HTML -->
{%load crispy_forms_tags%}
{%block content%}



<div class="container" style="margin-botton:40px">
  <div class="card my-3 shadow" style="padding-left:10px;padding-bottom:10px;margin-bottom:50px;background-color:rgb(221, 225, 243);">     
     <div class="card-body"> 
        <span class="h6" style="color: grey"
        >{{post.author}} ,{{post.date}}
        {% if post.author == request.user %}
        <a class="btn btn-danger float-right btn-sm"
                href="{% url 'blog-post-delete' post.id %}" style="background-color:rgb(208, 30, 48);">Delete</a>
                <a class="btn btn-primary mx-2 float-right btn-sm"
                href="{% url 'blog-post-edit' post.id %}">Edit</a>
        </span><br></br>
        {% endif %}
        <hr class="" color="black"></hr>
          <h3 id='title'>{{post.title}}</h3></br>
          <h6>(Category: {{post.category.title}})</h6><br></br>
          <img class="responsive-img" src="/media/{{post.pictures}}" title="img" /></br>
          <p title="post-content">{{post.content|safe}}</p>
     
         <hr> 
        </div>  
        <p class="mt-3">
            <a href="#collapseExample">
                Comments: {{ post.comment_count }}
            </a>     
        </p>
        <form method="POST">
            {% csrf_token %}
            {{ c_form|crispy }}
            <input class="btn btn-primary btn-sm" type="submit" value="Comment">
        </form><br></br>
        <div style="height: 250px; overflow-y: scroll;color:grey;background-color:rgb(42,42,42)" class="card card-body">
            {% for comment in post.comments %}
                <div style='background-color:rgb(190, 184, 186);margin-bottom:5px;padding:5px;border-radius:5px'>   
                   <span style='color:SlateBlue;font-weight:500'> {{comment.user.username}} :-<span>
                   <span style='color:rgb(79, 63, 63);font-weight:400'>{{comment.content}}</span>
                </div>
                </br>               
            {% endfor %}
        </div>
    </div>  
  </div> 
</div>

{%endblock%}



{% comment %} <div class="row" style="width:100%;color:grey">
    <div class="col-md-1">
        {{ comment.user.username }}:
    </div>
    <div class="col-md-11">
        {{ comment.content }}
    </div>
</div>
<hr> {% endcomment %}